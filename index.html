<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ñ</title>
        <link rel="stylesheet" href="styles.css" />
        <link rel="stylesheet" href="portada.css" />
        <link rel="stylesheet" href="jaume.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Anton&family=Dosis:wght@200..800&family=Oswald:wght@200..700&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Anton&family=Dosis:wght@200..800&family=MedievalSharp&family=Oswald:wght@200..700&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap"
            rel="stylesheet"
        />

        <link
            href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap"
            rel="stylesheet"
        />

    </head>
    <body class="llibre">
        <div class="header">
            <div class="mini-book">
                <img
                    id="mini-portada"
                    src="portada_bck.jpg"
                    class="mini-book-page cover"
                    alt="Book Cover"
                />
                <img
                    id="mini-p1"
                    src="01_Jaume_Complete.png"
                    class="mini-book-page page1"
                    alt="Page 1"
                />
                <img
                    id="mini-p2"
                    src="Luis_Final.PNG"
                    class="mini-book-page page2"
                    alt="Page 2"
                />
                <img
                    id="mini-p3"
                    src="AdanYEsteban.PNG"
                    class="mini-book-page page3"
                    alt="Page 3"
                />
                <img
                    id="mini-p4"
                    src="ToroOle.PNG"
                    class="mini-book-page page4"
                    alt="Page 4"
                />
            </div>
        </div>

        <div class="pagina jaume">
            <div class="contingut-pagina">
            <h1>" Una mirada crítica y divertida a la história de España "</h1>
            <p>Fusce viverra cras varius eros nam leo, vel nascetur quisque euismod rhoncus aliquet. Praesent tellus mi sed bibendum faucibus est placerat.</p>
            <p>Fusce viverra cras varius eros nam leo, vel nascetur quisque euismod rhoncus aliquet. Praesent tellus mi sed bibendum faucibus est placerat.</p>
            <p>miquel</p>
                <div class="links-media">
                    <button class="spotify-button">
                        <i class="fab fa-spotify spotify-icon"></i>
                        <span class="text"
                            >eschucar en <strong>Spotify</strong></span
                        >
                    </button>
                    <button class="youtube-button">
                        <i class="fab fa-youtube youtube-icon"></i>
                        <span class="text"
                            >ver en <strong>Youtube</strong></span
                        >
                    </button>
                    
                </div>
            
                <p style="color: #ffffff30;">Desliza a la derecha -></p>
            </div>
        </div>

        <div class="pagina jaume">
            <div class="contingut-pagina">
                <h1>Mi bisabuelo Jaume</h1>
                    <div class="player-container">
                        <button class="play-button" id="playButton"><i class="fa-solid fa-play"></i></button>
                        <div class="spectrum">
                            <div class="bar"></div>
                            <div class="bar"></div>
                            <div class="bar"></div>
                        </div>
                    </div>
                <audio id="audioPlayer" src="jaumesong.mp3" preload="auto"></audio>
                <p>Fusce viverra cras varius eros nam leo, vel nascetur <span class="colored">quisque</span> euismod rhoncus aliquet. Praesent tellus mi sed bibendum faucibus est placerat. Magnis vulputate <span class="colored">maecenas</span> feugiat enim quis amet platea suscipit auctor vehicula nam taciti. Sit quisque auctor leo iaculis urna diam sagittis consequat blandit amet erat. Neque etiam condimentum phasellus, torquent sagittis ullamcorper ultricies tortor inceptos. Diam leo dapibus posuere, magnis felis metus amet ipsum nam gravida.</p>
                <img src="Marco_Creu.PNG" class="icono-contingut" />
                <p>Fusce viverra cras varius eros nam leo, vel nascetur quisque euismod rhoncus aliquet. Praesent tellus mi sed bibendum faucibus est placerat. Magnis vulputate maecenas feugiat enim quis amet platea suscipit auctor vehicula nam taciti. Sit quisque auctor leo iaculis urna diam sagittis consequat blandit amet erat. Neque etiam condimentum phasellus, torquent sagittis ullamcorper ultricies tortor inceptos. Diam leo dapibus posuere, magnis felis metus amet ipsum nam gravida.</p>
                <p>Fusce viverra cras varius eros nam leo, vel nascetur quisque euismod rhoncus aliquet. Praesent tellus mi sed bibendum faucibus est placerat. Magnis vulputate maecenas feugiat enim quis amet platea suscipit auctor vehicula nam taciti. Sit quisque auctor leo iaculis urna diam sagittis consequat blandit amet erat. Neque etiam condimentum phasellus, torquent sagittis ullamcorper ultricies tortor inceptos. Diam leo dapibus posuere, magnis felis metus amet ipsum nam gravida.</p>    
            </div>
            
        </div>

        <div class="pagina jaume">
            <div class="contingut-pagina">
            <h1>Luis se fuerte</h1>
            </div>
        </div>

        <div class="pagina jaume">
            <div class="contingut-pagina">
            <h1>Adan y esteban</h1>
            </div>
        </div>

        <div class="pagina jaume">
            <div class="contingut-pagina">
            <h1>El toro ole</h1>
            </div>
        </div>

     <script>document.addEventListener("DOMContentLoaded", () => {
        const pages = document.querySelectorAll(".pagina");
        const miniBookImages = document.querySelectorAll(".mini-book img");
        const llibre = document.querySelector(".llibre");
    
        const observer = new IntersectionObserver(
            (entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        const pageIndex = Array.from(pages).indexOf(entry.target);
    
    
                        // Update the mini-book images based on scroll position
                        miniBookImages.forEach((img, index) => {
                            if (index < pageIndex) {
                                // Rotate and move pages back as you scroll past them
                                img.style.transform = `rotateY(-140deg)`;
                                img.style.opacity = "0";
                                img.style.transition = "transform 1s ease, opacity 0s ease 1s";
                            } else {
                                // Reset rotation for the current and future pages
                                img.style.transform = `rotateY(0deg) translateZ(-${index * 10}px)`;
                                img.style.opacity = "1";
                                img.style.transition = "transform 1s ease, opacity 0s";
                            }
                        });
                    }
                });
            },
            {
                root: null, // Use the viewport as the root
                threshold: 0.3, // Trigger when 30% of the element is in view
                rootMargin: "0px", // No margin around the root
            }
        );
    
        pages.forEach((page) => {
            observer.observe(page);
        });
    });
    </script>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const pages = document.querySelectorAll(".pagina");

                const observer = new IntersectionObserver(
                    (entries) => {
                        entries.forEach((entry) => {
                            if (entry.isIntersecting) {
                                entry.target.classList.add("visible");
                            }
                        });
                    },
                    {
                        root: null, // Use the viewport as the root
                        threshold: 0.3, // Trigger when 30% of the element is in view
                        rootMargin: "0px", // No margin around the root
                    }
                );

                pages.forEach((page) => {
                    observer.observe(page);
                });
            });
        </script>

    <script>document.getElementById('playButton').addEventListener('click', function() {
        const audio = document.getElementById('audioPlayer');
        const playButton = this;
    
        if (audio.paused) {
            audio.play();
            playButton.querySelector('i').classList.remove('fa-play');
            playButton.querySelector('i').classList.add('fa-pause');
            document.querySelectorAll('.bar').forEach(bar => {
                bar.style.animationPlayState = 'running';
            });
        } else {
            audio.pause();
            playButton.querySelector('i').classList.remove('fa-pause');
            playButton.querySelector('i').classList.add('fa-play');
            document.querySelectorAll('.bar').forEach(bar => {
                bar.style.animationPlayState = 'paused';
            });
        }
    });
    
    document.getElementById('audioPlayer').addEventListener('ended', function() {
        const playButton = document.getElementById('playButton');
        playButton.querySelector('i').classList.remove('fa-pause');
        playButton.querySelector('i').classList.add('fa-play');
        document.querySelectorAll('.bar').forEach(bar => {
            bar.style.animationPlayState = 'paused';
        });
    });</script>

    
    </body>
</html>
